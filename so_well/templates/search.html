<!-- so_well/templates/search.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voter Search</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
<div class="container">
    <h1>Voter Search</h1>
    <form id="search-form" method="GET">
        <!-- Form fields here -->
        <div class="form-group">
            <label for="first_name">First Name</label>
            <input type="text" class="form-control" id="first_name" name="first_name">
            <label for="first_name_direct">Direct</label>
            <input type="checkbox" id="first_name_direct" name="first_name_direct">
        </div>
        <div class="form-group">
            <label for="last_name">Last Name</label>
            <input type="text" class="form-control" id="last_name" name="last_name">
            <label for="last_name_direct">Direct</label>
            <input type="checkbox" id="last_name_direct" name="last_name_direct">
        </div>
        <div class="form-group">
            <label for="house_number">House Number</label>
            <input type="text" class="form-control" id="house_number" name="house_number">
        </div>
        <div class="form-group">
            <label for="street_name">Street Name</label>
            <input type="text" class="form-control" id="street_name" name="street_name">
            <label for="street_name_direct">Direct</label>
            <input type="checkbox" id="street_name_direct" name="street_name_direct">
        </div>
        <div class="form-group">
            <label for="direction">Street Direction</label>
            <input type="text" class="form-control" id="direction" name="direction">
        </div>
        <div class="form-group">
            <label for="post_direction">Post Direction</label>
            <input type="text" class="form-control" id="post_direction" name="post_direction">
        </div>
        <div class="form-group">
            <label for="apt_num">Apartment Number</label>
            <input type="text" class="form-control" id="apt_num" name="apt_num">
        </div>
        <div class="form-group">
            <label for="city">City</label>
            <input type="text" class="form-control" id="city" name="city">
            <label for="city_direct">Direct</label>
            <input type="checkbox" id="city_direct" name="city_direct">
        </div>
        <div class="form-group">
            <label for="zip">ZIP Code</label>
            <input type="text" class="form-control" id="zip" name="zip">
            <label for="zip_direct">Direct</label>
            <input type="checkbox" id="zip_direct" name="zip_direct">
        </div>
        <button type="button" onclick="searchVoters()">Search</button>
    </form>
    <h3>Results</h3>
    <div id="results"></div>
</div>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script>
    function searchVoters() {
        const formData = new FormData(document.getElementById('search-form'));
        const params = new URLSearchParams(formData).toString();

        fetch(`/search?${params}`)
            .then(response => response.json())
            .then(data => {
                const resultsDiv = document.getElementById('results');
                resultsDiv.innerHTML = JSON.stringify(data, null, 2);
            })
            .catch(error => console.error('Error:', error));
    }
</script>
</body>
</html>
